'use strict';

var checkEmpty = require('./check-empty');
var checkCriteria = require('./check-criteria');
module.exports = function (Record) {
    var oldMethod = Record.create;
    Record.checkInputBeforeCreating = function (profile) {
        return checkEmpty(Record, profile).then(function () {
            return checkCriteria(Record, profile);
        });
    };
    Record.create = function (profile) {
        var oldArgs = arguments;
        return Record.checkInputBeforeCreating(profile).then(function () {
            return oldMethod.apply(Record, oldArgs);
        });
    }
};