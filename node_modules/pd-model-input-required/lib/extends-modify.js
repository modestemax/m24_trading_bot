'use strict';

var checkEmpty = require('./check-empty');
var checkCriteria = require('./check-criteria');
module.exports = function (Record) {
    var oldMethod = Record.modify;
    Record.checkInputBeforeModifying = function (profile) {
        return checkEmpty(Record, profile, true).then(function () {
            return checkCriteria(Record, profile);
        });
    };
    Record.modify = function (profile) {
        var oldArgs = arguments;
        return Record.checkInputBeforeModifying(profile).then(function () {
            return oldMethod.apply(Record, oldArgs);
        });
    }
};